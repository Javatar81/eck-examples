# Stack monitoring: 2 monitored ES clusters + 1 monitoring ES + Kibana
# https://www.elastic.co/docs/deploy-manage/monitor/stack-monitoring/eck-stack-monitoring

# When true, create NetworkPolicies for: (1) metricbeats in monitored clusters → monitoring (9200), (2) monitoring → monitored for cross-cluster search (9443).
generateStackMonitoringPolicies: false
# When true, create NetworkPolicies so the monitoring cluster can communicate with monitored clusters as remote clusters for cross-cluster search (CCS).
generateRenoteClustersSearchPolicies: false

version: "9.3.0"
storageSize: 30Gi

# Monitored clusters (elastic1, elastic2) — send metrics/logs to monitoring cluster
monitoredClusters:
  - name: elastic1
    namespace: elastic1
    nodeCount: 1
  - name: elastic2
    namespace: elastic2
    nodeCount: 1

# Monitoring cluster (elastic-monitoring) — receives metrics/logs, runs Kibana for Stack Monitoring UI
monitoringCluster:
  namespace: elastic-monitoring
  elasticsearchName: monitoring
  kibanaName: kibana
  nodeCount: 1
  # ServiceAccount names for cross-namespace RBAC (when enforceRBAC is true).
  serviceAccountName: eck-monitoring-sa   # Used by monitoring ES to access monitored clusters (elastic1, elastic2).
  monitoredServiceAccountName: eck-monitored-sa  # Used by monitored ES to access the monitoring cluster.
