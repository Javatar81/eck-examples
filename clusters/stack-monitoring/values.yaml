# Stack monitoring: 2 monitored ES clusters + 1 monitoring ES + Kibana
# https://www.elastic.co/docs/deploy-manage/monitor/stack-monitoring/eck-stack-monitoring

# When true, create NetworkPolicies allowing metricbeats in monitored clusters to push metrics/logs to the monitoring cluster (port 9200).
generateStackMonitoringPolicies: false

version: "9.3.0"
storageSize: 30Gi

# Monitored clusters (elastic1, elastic2) — send metrics/logs to monitoring cluster
monitoredClusters:
  - name: elastic1
    namespace: elastic1
    nodeCount: 1
  - name: elastic2
    namespace: elastic2
    nodeCount: 1

# Monitoring cluster (elastic-monitoring) — receives metrics/logs, runs Kibana for Stack Monitoring UI
monitoringCluster:
  namespace: elastic-monitoring
  elasticsearchName: monitoring
  kibanaName: kibana
  nodeCount: 1
  # ServiceAccount names for cross-namespace RBAC (when enforceRBAC is true).
  serviceAccountName: eck-monitoring-sa   # Used by monitoring ES to access monitored clusters (elastic1, elastic2).
  monitoredServiceAccountName: eck-monitored-sa  # Used by monitored ES to access the monitoring cluster.
